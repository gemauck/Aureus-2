/* ==========================================================================
   Job Card Public Mobile Overrides
   Ensures the public job card wizard renders correctly on mobile devices
   despite global nuclear mobile overrides used elsewhere in the app.
   ========================================================================== */

@media (max-width: 1024px) {
  html.job-card-public,
  body.job-card-public {
    height: auto !important;
    min-height: 100vh !important;
    overflow-x: hidden !important;
    overflow-y: auto !important;
    width: 100% !important;
    max-width: 100% !important;
    min-width: 0 !important;
    background-color: #f3f4f6 !important;
    position: relative !important;
    left: 0 !important;
    transform: none !important;
  }

  body.job-card-public #root {
    display: block !important;
    width: 100vw !important;
    max-width: 100vw !important;
    height: auto !important;
    min-height: 100vh !important;
    overflow: visible !important;
    padding: 0 !important;
    margin: 0 !important;
    position: relative !important;
    left: 0 !important;
    transform: none !important;
  }

  body.job-card-public #root > * {
    display: block !important;
    width: 100% !important;
    max-width: 100vw !important;
  }

  body.job-card-public .job-card-public-wrapper,
  body.job-card-public .job-card-public-wrapper * {
    font-variant-ligatures: none !important;
    font-feature-settings: 'liga' 0, 'clig' 0, 'dlig' 0, 'calt' 0 !important;
  }

  body.job-card-public .job-card-public-wrapper {
    display: block !important;
    width: 100% !important;
    max-width: 100vw !important;
    min-height: 100vh !important;
    overflow-x: hidden !important;
    overflow-y: auto !important;
    padding: 20px 14px 120px !important;
    box-sizing: border-box !important;
    margin: 0 auto !important;
    -webkit-overflow-scrolling: touch !important;
    position: relative !important;
    left: 0 !important;
    transform: none !important;
  }

  /* Reset any inherited positioning that might push content off-screen */
  body.job-card-public .job-card-public-wrapper > * {
    position: relative !important;
    left: 0 !important;
    right: auto !important;
    transform: none !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
  }

  /* Reset transforms and positioning for all nested elements that might be offset */
  body.job-card-public .job-card-public-wrapper * {
    left: auto !important;
    transform: none !important;
  }

  body.job-card-public .job-card-public-wrapper header,
  body.job-card-public .job-card-public-wrapper section,
  body.job-card-public .job-card-public-wrapper footer,
  body.job-card-public .job-card-public-wrapper form {
    position: relative !important;
    left: 0 !important;
    transform: none !important;
  }

  body.job-card-public .job-card-public-wrapper header,
  body.job-card-public .job-card-public-wrapper section,
  body.job-card-public .job-card-public-wrapper footer {
    display: block !important;
    width: 100% !important;
  }

  /* Re-enable core layout utilities that were disabled by nuclear overrides */
  body.job-card-public .job-card-public-wrapper :is(.flex) {
    display: flex !important;
  }

  body.job-card-public .job-card-public-wrapper :is(.inline-flex) {
    display: inline-flex !important;
  }

  body.job-card-public .job-card-public-wrapper :is(.grid) {
    display: grid !important;
  }

  body.job-card-public .job-card-public-wrapper :is(.inline-grid) {
    display: inline-grid !important;
  }

  body.job-card-public .job-card-public-wrapper :is(.hidden) {
    display: none !important;
  }

  body.job-card-public .job-card-public-wrapper :is(.sticky) {
    position: sticky !important;
  }

  body.job-card-public footer {
    position: sticky !important;
    bottom: 0 !important;
    width: 100% !important;
    z-index: 20 !important;
    background-color: #ffffff !important;
  }

  /* Ensure the form content remains comfortably readable */
  body.job-card-public .job-card-public-wrapper .max-w-4xl {
    max-width: min(100%, 48rem) !important;
    width: 100% !important;
    margin-left: auto !important;
    margin-right: auto !important;
    transform: none !important;
  }

  body.job-card-public .job-card-public-wrapper header {
    display: block !important;
  }

  body.job-card-public .job-card-public-wrapper header.overflow-hidden {
    display: block !important;
  }

  body.job-card-public .job-card-public-wrapper header.relative,
  body.job-card-public .job-card-public-wrapper section,
  body.job-card-public .job-card-public-wrapper footer {
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
    position: relative !important;
    left: 0 !important;
    right: 0 !important;
    transform: none !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
  }

  /* Touch-friendly inputs and buttons */
  body.job-card-public .job-card-public-wrapper button {
    min-height: 44px !important;
    border-radius: 12px !important;
  }

  body.job-card-public .job-card-public-wrapper input,
  body.job-card-public .job-card-public-wrapper select,
  body.job-card-public .job-card-public-wrapper textarea {
    font-size: 16px !important;
    border-radius: 12px !important;
  }

  body.job-card-public .job-card-public-wrapper form {
    display: flex !important;
    flex-direction: column !important;
    gap: 20px !important;
    max-height: none !important;
    min-height: 0 !important;
    overflow: visible !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
    width: 100% !important;
    position: relative !important;
    left: 0 !important;
    right: 0 !important;
    transform: none !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
  }

  body.job-card-public .job-card-public-wrapper form > * {
    visibility: visible !important;
    opacity: 1 !important;
  }

  body.job-card-public .mobile-step-scroll {
    -webkit-overflow-scrolling: touch !important;
    scrollbar-width: none !important;
    scroll-snap-type: x mandatory !important;
  }

  body.job-card-public .mobile-step-scroll::-webkit-scrollbar {
    display: none !important;
  }

  body.job-card-public canvas {
    max-width: 100% !important;
  }

  body.job-card-public .job-card-public-wrapper .text-sm {
    font-size: 1rem !important;
    line-height: 1.55 !important;
  }

  body.job-card-public .job-card-public-wrapper .text-xs,
  body.job-card-public .job-card-public-wrapper .text-[11px] {
    font-size: 0.875rem !important;
    line-height: 1.45 !important;
    letter-spacing: 0.04em !important;
  }

  body.job-card-public .job-card-public-wrapper label {
    font-size: 0.95rem !important;
    line-height: 1.45 !important;
  }

  body.job-card-public .job-card-public-wrapper h2 {
    font-size: 1.25rem !important;
  }

  body.job-card-public .job-card-public-wrapper p {
    line-height: 1.6 !important;
  }
}

@media (max-width: 420px) {
  body.job-card-public .job-card-public-wrapper {
    padding: 16px 12px 112px !important;
  }

  body.job-card-public .job-card-public-wrapper header.relative,
  body.job-card-public .job-card-public-wrapper section,
  body.job-card-public .job-card-public-wrapper footer {
    padding: 16px 12px !important;
    box-sizing: border-box !important;
    width: 100% !important;
    max-width: 100% !important;
  }

  body.job-card-public .job-card-public-wrapper header.relative h1 {
    font-size: 1.5rem !important;
    line-height: 1.3 !important;
  }

  body.job-card-public .job-card-public-wrapper header.relative p {
    font-size: 0.95rem !important;
  }

  body.job-card-public .job-card-public-wrapper .mobile-step-scroll button {
    min-width: 170px !important;
    padding-inline: 12px !important;
  }

  body.job-card-public .job-card-public-wrapper input,
  body.job-card-public .job-card-public-wrapper select,
  body.job-card-public .job-card-public-wrapper textarea {
    padding: 14px 16px !important;
  }

  body.job-card-public .job-card-public-wrapper footer {
    flex-direction: column !important;
    gap: 12px !important;
    width: 100% !important;
    max-width: 100% !important;
  }

  body.job-card-public .job-card-public-wrapper footer > div:last-child > button {
    width: 100% !important;
  }
}

@media (max-width: 340px) {
  body.job-card-public .job-card-public-wrapper {
    padding: 14px 10px 108px !important;
  }

  body.job-card-public .job-card-public-wrapper header.relative,
  body.job-card-public .job-card-public-wrapper section,
  body.job-card-public .job-card-public-wrapper footer {
    padding: 14px 10px !important;
    box-sizing: border-box !important;
    width: 100% !important;
    max-width: 100% !important;
  }

  body.job-card-public .job-card-public-wrapper header.relative h1 {
    font-size: 1.4rem !important;
  }

  body.job-card-public .job-card-public-wrapper header.relative p {
    font-size: 0.9rem !important;
  }

  body.job-card-public .job-card-public-wrapper .mobile-step-scroll {
    margin-inline: -10px !important;
    padding-inline: 10px !important;
  }

  body.job-card-public .job-card-public-wrapper .mobile-step-scroll button {
    min-width: 148px !important;
    padding-inline: 10px !important;
  }

  body.job-card-public .job-card-public-wrapper .text-sm {
    font-size: 0.95rem !important;
  }

  body.job-card-public .job-card-public-wrapper footer > div:last-child {
    width: 100% !important;
  }
}

