# Client Opportunities - Quick Start Guide

## What Are Client Opportunities?

Client Opportunities track potential new business with **existing clients** - things like expansions, upgrades, upsells, and cross-sells.

## Key Concept

```
Leads = Prospects (companies not yet clients)
Client Opportunities = Upsell/expansion deals with existing clients

Combined Pipeline = Leads + Client Opportunities
```

## Quick Access

1. Go to **Clients** module
2. Click on any client to open detail modal
3. Click **"Opportunities"** tab
4. Click **"Add Opportunity"** button

## Adding an Opportunity - Fast Track

**Required Fields**:
- Opportunity Name (e.g., "North Mine Expansion")
- Value (in Rands)

**Optional But Recommended**:
- Probability (default: 50%)
- Stage (default: Qualification)
- Expected Close Date
- Related Site (if expansion is site-specific)
- Notes

**Click "Add Opportunity"** → Done!

## Understanding the Display

### Summary Stats (Top of Tab)
```
┌─────────────────────────────────────────────────┐
│ Total Pipeline Value: R 1,250,000               │
│ Weighted Value: R 750,000 (probability-adjusted)│
│ Total Opportunities: 3                           │
└─────────────────────────────────────────────────┘
```

### Individual Opportunity Card
```
┌─────────────────────────────────────────────────┐
│ 🎯 North Mine Expansion      [Negotiation]      │
│ ├─ R 500,000 | 70% probability                  │
│ ├─ Expected: 2024-04-15                         │
│ ├─ Site: North Mine                             │
│ └─ [██████████████░░░░░░] R 350,000 weighted    │
└─────────────────────────────────────────────────┘
```

## Stages Explained

| Stage | Meaning | Typical Probability |
|-------|---------|-------------------|
| **Qualification** | Just identified, needs validation | 30-40% |
| **Needs Analysis** | Understanding requirements | 50-60% |
| **Proposal** | Preparing/presenting solution | 60-70% |
| **Negotiation** | Discussing terms | 70-80% |
| **Closed Won** | Deal closed successfully | 100% |
| **Closed Lost** | Opportunity lost | 0% |

## Common Use Cases

### 1. Site Expansion
```
Client: ABC Mining (existing)
Opportunity: "North Mine - 50 Additional Units"
Value: R 750,000
Stage: Negotiation
Related Site: North Mine
```

### 2. Company-Wide Upgrade
```
Client: XYZ Forestry (existing)
Opportunity: "Premium Telemetry Upgrade - All Vehicles"
Value: R 450,000
Stage: Proposal
Related Site: (none - affects all sites)
```

### 3. New Site Installation
```
Client: Green Farms (existing)
Opportunity: "East Farm New Installation"
Value: R 325,000
Stage: Qualification
Related Site: East Farm (to be created)
```

## Dashboard View

Navigate to Dashboard to see:

```
┌─────────────────────────────────────┐
│ Combined Pipeline                   │
├─────────────────────────────────────┤
│ Active Leads (Prospects): 12        │
│ Client Opportunities: 8             │
├─────────────────────────────────────┤
│ Leads Value: R 2,750,000           │
│ Opportunities Value: R 1,250,000    │
├─────────────────────────────────────┤
│ Total Pipeline: R 4,000,000         │
│ Weighted Value: R 2,500,000         │
└─────────────────────────────────────┘
```

## Quick Tips

### ✅ DO:
- Update probability as opportunity progresses
- Link opportunities to specific sites when relevant
- Add notes about key developments
- Set realistic expected close dates
- Update stage regularly

### ❌ DON'T:
- Create a Lead for an existing client's new opportunity (use Opportunity instead)
- Leave probability at 50% forever (update it!)
- Forget to update stage when things change

## Activity Tracking

All opportunity actions are automatically logged:
- ✅ Opportunity Added
- ✏️ Opportunity Updated  
- ❌ Opportunity Deleted

View in **Activity** tab of client detail modal.

## Weighted Value Calculation

```
Weighted Value = Value × Probability ÷ 100

Example:
- Value: R 500,000
- Probability: 70%
- Weighted: R 350,000
```

This gives you a more realistic forecast of expected revenue.

## Real-World Example

**Scenario**: ABC Mining (existing client with 3 sites)

Current Opportunities:
1. **North Mine Expansion**
   - 50 additional GPS units
   - Value: R 750,000
   - Probability: 70% (in negotiation)
   - Weighted: R 525,000

2. **East Mine Upgrade**
   - Premium telemetry features
   - Value: R 300,000
   - Probability: 50% (proposal stage)
   - Weighted: R 150,000

3. **South Mine New Installation**
   - 25 units for new site
   - Value: R 400,000
   - Probability: 30% (early qualification)
   - Weighted: R 120,000

**Total Pipeline for ABC Mining**: R 1,450,000
**Weighted Pipeline**: R 795,000

## Need Help?

**Common Questions**:

Q: When do I use Opportunities vs Leads?
A: Leads = new companies. Opportunities = deals with existing clients.

Q: Can I have multiple opportunities per client?
A: Yes! Track as many as needed (expansions, upgrades, new sites, etc.)

Q: Do opportunities show in the pipeline?
A: Yes! Dashboard combines both Leads and Client Opportunities.

Q: Can I link an opportunity to a site?
A: Yes! Optional but recommended for site-specific deals.

Q: What happens to closed opportunities?
A: Mark as "Closed Won" or "Closed Lost" for historical tracking.

---

**Quick Reference**: Clients → [Select Client] → Opportunities Tab → Add Opportunity

**Dashboard View**: Dashboard → Combined Pipeline Card
