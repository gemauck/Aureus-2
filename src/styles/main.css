@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom Primary Colors */
:root {
    --primary-50: #e0f2fe;
    --primary-100: #bae6fd;
    --primary-200: #7dd3fc;
    --primary-300: #38bdf8;
    --primary-400: #0ea5e9;
    --primary-500: #0284c7;
    --primary-600: #0369a1;
    --primary-700: #075985;
    --primary-800: #0c4a6e;
    --primary-900: #082f49;
}

.bg-primary-500 { background-color: var(--primary-500); }
.text-primary-500 { color: var(--primary-500); }
.border-primary-500 { border-color: var(--primary-500); }
.hover\:bg-primary-600:hover { background-color: var(--primary-600); }
.hover\:bg-primary-700:hover { background-color: var(--primary-700); }

/* Base styles */
body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    touch-action: manipulation;
}

/* Mobile-specific optimizations */
@media (max-width: 768px) {
    body {
        font-size: 16px; /* Prevents zoom on iOS */
        line-height: 1.5;
    }
    
    /* Prevent horizontal scroll */
    html, body {
        overflow-x: hidden;
        width: 100%;
    }
    
    /* Touch-friendly buttons */
    button, .btn, [role="button"] {
        min-height: 44px;
        min-width: 44px;
        touch-action: manipulation;
    }
    
    /* Better form inputs */
    input, textarea, select {
        font-size: 16px; /* Prevents zoom on iOS */
        border-radius: 8px;
    }
    
    /* Improved scrolling */
    .overflow-y-auto {
        -webkit-overflow-scrolling: touch;
    }
    
    /* Mobile horizontal scrollable navigation tabs */
    .overflow-x-auto {
        -webkit-overflow-scrolling: touch;
    }
    
    /* Ensure tab buttons maintain readable width on mobile */
    .overflow-x-auto button {
        min-width: max-content;
        flex-shrink: 0;
        white-space: nowrap;
    }
    
    /* Special handling for .overflow-x-auto with .scrollbar-hide - show scrollbar on mobile */
    .overflow-x-auto.scrollbar-hide {
        -webkit-overflow-scrolling: touch;
    }
    
    /* Mobile table to card conversion */
    .table-responsive {
        display: none;
    }
    
    .table-mobile {
        display: block;
    }
    
    .mobile-card {
        background: white;
        border-radius: 12px;
        padding: 16px;
        margin-bottom: 12px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        border: 1px solid #e5e7eb;
    }
    
    .dark .mobile-card {
        background: #1f2937;
        border-color: #374151;
    }
    
    /* Mobile modal optimizations */
    .modal {
        margin: 0;
        max-height: 100vh;
        border-radius: 0;
    }
    
    .modal-dialog {
        margin: 0;
        max-width: 100%;
        height: 100vh;
        display: flex;
        flex-direction: column;
    }
    
    .modal-content {
        flex: 1;
        border-radius: 0;
        border: none;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
    }
}

@media (min-width: 769px) {
    .table-mobile {
        display: none;
    }
    
    .table-responsive {
        display: block;
    }
}

.sidebar-scrollbar::-webkit-scrollbar {
    width: 6px;
}
.sidebar-scrollbar::-webkit-scrollbar-track {
    background: transparent;
}
.sidebar-scrollbar::-webkit-scrollbar-thumb {
    background: #0284c7;
    border-radius: 3px;
}
.scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
    display: none;
}

/* Smooth scrolling for comment containers */
.smooth-scroll,
.comment-popup .max-h-32.overflow-y-auto,
.comment-popup [ref="commentPopupContainerRef"],
.max-h-32.overflow-y-auto.smooth-scroll {
    scroll-behavior: smooth !important;
    -webkit-overflow-scrolling: touch;
}

/* Mobile-friendly horizontal scrolling - show scrollbar on mobile */
@media (max-width: 1024px) {
    .scrollbar-hide {
        -ms-overflow-style: auto;
        scrollbar-width: thin;
    }
    .scrollbar-hide::-webkit-scrollbar {
        display: block;
        height: 8px;
    }
    .scrollbar-hide::-webkit-scrollbar-thumb {
        background: rgba(0, 0, 0, 0.3);
        border-radius: 4px;
    }
    .scrollbar-hide::-webkit-scrollbar-track {
        background: rgba(0, 0, 0, 0.05);
    }
}

/* Mobile-friendly touch targets */
@media (max-width: 640px) {
    button, input, select, textarea {
        min-height: 44px;
    }
}

/* Force Abcotronics logo colors - CRITICAL: Override all other styles */
/* Light mode: Always blue - Use maximum specificity */
html:not(.dark) .abcotronics-logo,
html:not(.dark) h1.abcotronics-logo,
html:not(.dark) h1.abcotronics-logo.font-bold,
:not(.dark) .abcotronics-logo,
:not(.dark) h1.abcotronics-logo,
body:not(.dark) .abcotronics-logo,
body:not(.dark) h1.abcotronics-logo,
.abcotronics-logo:not(.dark),
h1.abcotronics-logo:not(.dark) {
    color: #0369a1 !important;
}

/* Override any Tailwind classes - but still respect dark mode */
html:not(.dark) .abcotronics-logo.text-blue-600,
html:not(.dark) .abcotronics-logo.text-primary-600 {
    color: #0369a1 !important;
}

/* Dark mode: Always white - Use maximum specificity - MUST come after other rules */
html.dark .abcotronics-logo,
html.dark h1.abcotronics-logo,
html.dark h1.abcotronics-logo.font-bold,
html.dark .abcotronics-logo.font-bold,
html.dark .abcotronics-logo.text-white,
html.dark .abcotronics-logo.text-blue-600,
html.dark .abcotronics-logo.text-primary-600,
.dark .abcotronics-logo,
.dark h1.abcotronics-logo,
.dark h1.abcotronics-logo.font-bold,
body.dark .abcotronics-logo,
body.dark h1.abcotronics-logo,
body.dark h1.abcotronics-logo.font-bold,
.abcotronics-logo.dark,
h1.abcotronics-logo.dark {
    color: #ffffff !important;
}

/* Login page logo - always white (on blue background) */
.login-brand.abcotronics-logo {
    color: #ffffff !important;
}

/* Ensure text-primary-600 works */
.text-primary-600 {
    color: #0369a1 !important;
}

/* Comment highlighting animation for URL-based navigation */
@keyframes highlightComment {
    0% {
        background-color: rgba(59, 130, 246, 0.3);
        box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.7);
    }
    50% {
        background-color: rgba(59, 130, 246, 0.5);
        box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.3);
    }
    100% {
        background-color: rgba(59, 130, 246, 0.2);
        box-shadow: 0 0 0 0 rgba(59, 130, 246, 0);
    }
}

.highlight-comment {
    animation: highlightComment 2s ease-in-out;
    border-radius: 4px;
    padding: 2px 4px;
    margin: -2px -4px;
}

/* Dark mode support for comment highlighting */
.dark .highlight-comment {
    animation: highlightComment 2s ease-in-out;
}

@keyframes highlightCommentDark {
    0% {
        background-color: rgba(96, 165, 250, 0.3);
        box-shadow: 0 0 0 0 rgba(96, 165, 250, 0.7);
    }
    50% {
        background-color: rgba(96, 165, 250, 0.5);
        box-shadow: 0 0 0 4px rgba(96, 165, 250, 0.3);
    }
    100% {
        background-color: rgba(96, 165, 250, 0.2);
        box-shadow: 0 0 0 0 rgba(96, 165, 250, 0);
    }
}

.dark .highlight-comment {
    animation: highlightCommentDark 2s ease-in-out;
}

/* Prevent grey hover effects on headings */
h1:hover,
h2:hover,
h3:hover,
h4:hover,
h5:hover,
h6:hover {
    background-color: transparent !important;
    color: inherit !important;
}
